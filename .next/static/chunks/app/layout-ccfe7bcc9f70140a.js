(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{958:function(t,e,a){Promise.resolve().then(a.bind(a,6727)),Promise.resolve().then(a.bind(a,5609)),Promise.resolve().then(a.t.bind(a,8015,23)),Promise.resolve().then(a.t.bind(a,394,23)),Promise.resolve().then(a.t.bind(a,4933,23))},6727:function(t,e,a){"use strict";a.d(e,{CartProvider:function(){return i},j:function(){return s}});var n=a(6047),r=a(418),o=a(2919);let c=(0,r.createContext)(void 0);function i(t){let{children:e,initialStoreSlug:a}=t,[i,s]=(0,r.useState)(null),[l,u]=(0,r.useState)(!1),[d,f]=(0,r.useState)(null),[m,p]=(0,r.useState)(a||o.YV),h=(null==i?void 0:i.itemCount)||0,w=(0,r.useCallback)(async()=>{u(!0),f(null);try{let t=await o.wk.getCart(m);s(t)}catch(t){t instanceof Error&&t.message.includes("404")?s(null):(f(t instanceof Error?t.message:"Failed to fetch cart"),console.error("Error fetching cart:",t))}finally{u(!1)}},[m]),g=(0,r.useCallback)(async(t,e)=>{u(!0),f(null);try{let a=await o.wk.addToCart(m,t,e);s(a)}catch(t){throw f(t instanceof Error?t.message:"Failed to add to cart"),console.error("Error adding to cart:",t),t}finally{u(!1)}},[m]),y=(0,r.useCallback)(async(t,e)=>{u(!0),f(null);try{if(e<=0){await v(t);return}let a=await o.wk.updateCartItem(m,t,e);s(a)}catch(t){throw f(t instanceof Error?t.message:"Failed to update cart item"),console.error("Error updating cart item:",t),t}finally{u(!1)}},[m]),v=(0,r.useCallback)(async t=>{u(!0),f(null);try{let e=await o.wk.removeCartItem(m,t);s(e)}catch(t){throw f(t instanceof Error?t.message:"Failed to remove cart item"),console.error("Error removing cart item:",t),t}finally{u(!1)}},[m]),b=(0,r.useCallback)(async()=>{u(!0),f(null);try{await o.wk.clearCart(m),s(null)}catch(t){throw f(t instanceof Error?t.message:"Failed to clear cart"),console.error("Error clearing cart:",t),t}finally{u(!1)}},[m]),P=(0,r.useCallback)(async(t,e)=>{u(!0),f(null);try{let a=await o.wk.updateContactInfo(m,{customer_email:t,customer_phone:e});s(a)}catch(t){throw f(t instanceof Error?t.message:"Failed to update contact info"),console.error("Error updating contact info:",t),t}finally{u(!1)}},[m]);return(0,r.useEffect)(()=>{w()},[w]),(0,n.jsx)(c.Provider,{value:{cart:i,isLoading:l,error:d,itemCount:h,storeSlug:m,setStoreSlug:p,fetchCart:w,addToCart:g,updateCartItem:y,removeCartItem:v,clearCart:b,updateContactInfo:P},children:e})}function s(){let t=(0,r.useContext)(c);if(void 0===t)throw Error("useCart must be used within a CartProvider");return t}},2919:function(t,e,a){"use strict";a.d(e,{Ae:function(){return l},YV:function(){return u},dv:function(){return s},wk:function(){return i}});let n="https://api.posbok.com/api";function r(){let t=localStorage.getItem("cart-session-id");return t||(t=crypto.randomUUID(),localStorage.setItem("cart-session-id",t)),t}class o extends Error{constructor(t,e){super(t),this.name="ApiError",this.status=e}}async function c(t){let e=await t.json().catch(()=>({}));if(!t.ok)throw new o(e.message||"Request failed with status ".concat(t.status),t.status);if(!1===e.success)throw new o(e.message||"Request failed",t.status);return e}let i={async getCart(t){let e=await fetch("".concat(n,"/cart/").concat(t,"/cart"),{method:"GET",headers:{"x-session-id":r()}});return(await c(e)).data},async addToCart(t,e,a){let o=await fetch("".concat(n,"/cart/").concat(t,"/cart/add"),{method:"POST",headers:{"Content-Type":"application/json","x-session-id":r()},body:JSON.stringify({productId:e,quantity:a})});return(await c(o)).data},async updateCartItem(t,e,a){let o=await fetch("".concat(n,"/cart/").concat(t,"/cart/items/").concat(e),{method:"PATCH",headers:{"Content-Type":"application/json","x-session-id":r()},body:JSON.stringify({quantity:a})});return(await c(o)).data},async removeCartItem(t,e){let a=await fetch("".concat(n,"/cart/").concat(t,"/cart/items/").concat(e),{method:"DELETE",headers:{"x-session-id":r()}});return(await c(a)).data},clearCart:async t=>c(await fetch("".concat(n,"/cart/").concat(t,"/cart/clear"),{method:"DELETE",headers:{"x-session-id":r()}})),async updateContactInfo(t,e){let a=await fetch("".concat(n,"/cart/").concat(t,"/cart/contact"),{method:"PATCH",headers:{"Content-Type":"application/json","x-session-id":r()},body:JSON.stringify(e)});return(await c(a)).data}},s={async getProductReviews(t,e){let a=new URLSearchParams;(null==e?void 0:e.page)&&a.append("page",e.page.toString()),(null==e?void 0:e.limit)&&a.append("limit",e.limit.toString()),(null==e?void 0:e.sortBy)&&a.append("sortBy",e.sortBy),(null==e?void 0:e.rating)&&a.append("rating",e.rating.toString());let r=a.toString(),o="".concat(n,"/reviews/products/").concat(t,"/reviews").concat(r?"?".concat(r):"");return c(await fetch(o,{method:"GET"}))},submitReview:async(t,e)=>c(await fetch("".concat(n,"/reviews/products/").concat(t,"/reviews"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})),markReviewHelpful:async t=>c(await fetch("".concat(n,"/reviews/reviews/").concat(t,"/helpful"),{method:"POST"}))},l={async getStore(t){let e=await fetch("".concat(n,"/storefront/public/").concat(t),{method:"GET"});return(await c(e)).data},async getProducts(t,e){let a=new URLSearchParams;(null==e?void 0:e.page)&&a.append("page",e.page.toString()),(null==e?void 0:e.limit)&&a.append("limit",e.limit.toString()),(null==e?void 0:e.categoryId)&&a.append("categoryId",e.categoryId.toString()),(null==e?void 0:e.search)&&a.append("search",e.search),(null==e?void 0:e.sortBy)&&a.append("sortBy",e.sortBy),(null==e?void 0:e.minPrice)&&a.append("minPrice",e.minPrice.toString()),(null==e?void 0:e.maxPrice)&&a.append("maxPrice",e.maxPrice.toString());let r=a.toString(),o="".concat(n,"/storefront/public/").concat(t,"/products").concat(r?"?".concat(r):""),i=await fetch(o,{method:"GET"}),s=await c(i);return{products:s.data.products,pagination:{page:s.data.pagination.currentPage,limit:s.data.pagination.itemsPerPage,total:s.data.pagination.totalItems,totalPages:s.data.pagination.totalPages},storeInfo:s.data.storeInfo}},async getProduct(t,e){let a=await fetch("".concat(n,"/storefront/public/").concat(t,"/products/").concat(e),{method:"GET"});return(await c(a)).data.product},async getCategories(t){let e=await fetch("".concat(n,"/storefront/public/").concat(t,"/categories"),{method:"GET"});return(await c(e)).data}},u="development-business-inc"},7261:function(t,e,a){"use strict";var n=a(5028);a.o(n,"useParams")&&a.d(e,{useParams:function(){return n.useParams}}),a.o(n,"usePathname")&&a.d(e,{usePathname:function(){return n.usePathname}}),a.o(n,"useSearchParams")&&a.d(e,{useSearchParams:function(){return n.useSearchParams}})},4933:function(){},394:function(t){t.exports={style:{fontFamily:"'__GeistMono_c1e5c9', ui-monospace, SFMono-Regular, Roboto Mono, Menlo, Monaco, Liberation Mono, DejaVu Sans Mono, Courier New, monospace"},className:"__className_c1e5c9",variable:"__variable_c1e5c9"}},8015:function(t){t.exports={style:{fontFamily:"'__GeistSans_3a0388', '__GeistSans_Fallback_3a0388'"},className:"__className_3a0388",variable:"__variable_3a0388"}},5609:function(t,e,a){"use strict";a.d(e,{Analytics:function(){return m}});var n=a(418),r=a(7261),o=()=>{window.va||(window.va=function(){for(var t=arguments.length,e=Array(t),a=0;a<t;a++)e[a]=arguments[a];(window.vaq=window.vaq||[]).push(e)})};function c(){return"undefined"!=typeof window}function i(){return"production"}function s(){return"development"===((c()?window.vam:i())||"production")}function l(t){return new RegExp("/".concat(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"(?=[/?#]|$)"))}function u(t){return(0,n.useEffect)(()=>{!function(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{debug:!0};if(!c())return;(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"auto";if("auto"===t){window.vam=i();return}window.vam=t})(e.mode),o(),e.beforeSend&&(null==(t=window.va)||t.call(window,"beforeSend",e.beforeSend));let a=e.scriptSrc||(s()?"https://va.vercel-scripts.com/v1/script.debug.js":"/_vercel/insights/script.js");if(document.head.querySelector('script[src*="'.concat(a,'"]')))return;let n=document.createElement("script");n.src=a,n.defer=!0,n.dataset.sdkn="@vercel/analytics"+(e.framework?"/".concat(e.framework):""),n.dataset.sdkv="1.3.1",e.disableAutoTrack&&(n.dataset.disableAutoTrack="1"),e.endpoint&&(n.dataset.endpoint=e.endpoint),e.dsn&&(n.dataset.dsn=e.dsn),n.onerror=()=>{let t=s()?"Please check if any ad blockers are enabled and try again.":"Be sure to enable Web Analytics for your project and deploy again. See https://vercel.com/docs/analytics/quickstart for more information.";console.log("[Vercel Web Analytics] Failed to load script from ".concat(a,". ").concat(t))},s()&&!1===e.debug&&(n.dataset.debug="false"),document.head.appendChild(n)}({framework:t.framework||"react",...void 0!==t.route&&{disableAutoTrack:!0},...t})},[]),(0,n.useEffect)(()=>{t.route&&t.path&&function(t){var e;let{route:a,path:n}=t;null==(e=window.va)||e.call(window,"pageview",{route:a,path:n})}({route:t.route,path:t.path})},[t.route,t.path]),null}var d=()=>{let t=(0,r.useParams)(),e=(0,r.useSearchParams)(),a=(0,r.usePathname)(),n={...Object.fromEntries(e.entries()),...t||{}};return{route:t?function(t,e){if(!t||!e)return t;let a=t;try{let t=Object.entries(e);for(let[e,n]of t)if(!Array.isArray(n)){let t=l(n);t.test(a)&&(a=a.replace(t,"/[".concat(e,"]")))}for(let[e,n]of t)if(Array.isArray(n)){let t=l(n.join("/"));t.test(a)&&(a=a.replace(t,"/[...".concat(e,"]")))}return a}catch(e){return t}}(a,n):null,path:a}};function f(t){let{route:e,path:a}=d();return n.createElement(u,{path:a,route:e,...t,framework:"next"})}function m(t){return n.createElement(n.Suspense,{fallback:null},n.createElement(f,{...t}))}}},function(t){t.O(0,[112,380,482,744],function(){return t(t.s=958)}),_N_E=t.O()}]);