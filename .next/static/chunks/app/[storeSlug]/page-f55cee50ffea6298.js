(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72],{3451:function(e,t,s){Promise.resolve().then(s.bind(s,4743))},4743:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return B}});var a=s(6047),r=s(418),l=s(7261),n=s(5116),c=s(4363),i=s(2919),o=s(6727),d=s(509),m=s(1658),x=s(5779),u=s(8591),h=s(7912),p=s(2813),g=s(7027),f=s(5840),y=s(5977);let j=(0,y.Z)("SearchX",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),b=(0,y.Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);function v(e){var t;let{store:s,storeSlug:l}=e,[i,d]=(0,r.useState)(!1),{itemCount:m}=(0,o.j)(),p=(null==s?void 0:null===(t=s.Business)||void 0===t?void 0:t.business_name)||"Store";return(0,a.jsx)("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[(0,a.jsx)(c.default,{href:"/".concat(l),className:"flex items-center",children:(0,a.jsx)(n.default,{src:(null==s?void 0:s.business_logo)||"/logo-2.png",alt:p,width:150,height:50,className:"h-10 sm:h-12 w-auto",priority:!0})}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center space-x-6 lg:space-x-8",children:[(0,a.jsx)(c.default,{href:"/".concat(l),className:"text-gray-800 hover:text-[#6B9B37] font-medium transition-colors",children:"Home"}),(0,a.jsx)(c.default,{href:"/".concat(l,"/about"),className:"text-gray-800 hover:text-[#6B9B37] font-medium transition-colors",children:"About Us"}),(0,a.jsx)(c.default,{href:"/".concat(l,"/contact"),className:"text-gray-800 hover:text-[#6B9B37] font-medium transition-colors",children:"Contact Us"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,a.jsxs)(c.default,{href:"/".concat(l,"/cart"),className:"relative p-2 text-[#6B9B37] hover:text-[#4A7A1A] transition-colors",children:[(0,a.jsx)(x.Z,{className:"w-6 h-6 sm:w-7 sm:h-7",strokeWidth:1.5}),m>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-[#6B9B37] text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:m>99?"99+":m})]}),(0,a.jsx)("button",{className:"md:hidden p-2 text-gray-800 hover:text-[#6B9B37] transition-colors",onClick:()=>d(!i),"aria-label":"Toggle menu",children:i?(0,a.jsx)(u.Z,{className:"w-6 h-6"}):(0,a.jsx)(h.Z,{className:"w-6 h-6"})})]})]}),i&&(0,a.jsx)("nav",{className:"md:hidden py-4 border-t border-gray-100",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,a.jsx)(c.default,{href:"/".concat(l),className:"text-gray-800 hover:text-[#6B9B37] font-medium transition-colors py-2",onClick:()=>d(!1),children:"Home"}),(0,a.jsx)(c.default,{href:"/".concat(l,"/about"),className:"text-gray-800 hover:text-[#6B9B37] font-medium transition-colors py-2",onClick:()=>d(!1),children:"About Us"}),(0,a.jsx)(c.default,{href:"/".concat(l,"/contact"),className:"text-gray-800 hover:text-[#6B9B37] font-medium transition-colors py-2",onClick:()=>d(!1),children:"Contact Us"})]})})]})})}function N(e){var t,s,r;let{product:l,storeSlug:i}=e,o=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e),d=(null===(t=l.images)||void 0===t?void 0:t.find(e=>e.is_primary))||(null===(s=l.images)||void 0===s?void 0:s[0]),m=(null==d?void 0:d.image_url)||"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=400&fit=crop",x=l.supposed_price&&l.supposed_price>l.selling_price?Math.round((l.supposed_price-l.selling_price)/l.supposed_price*100):null;return(0,a.jsxs)(c.default,{href:"/".concat(i,"/product/").concat(l.id),className:"product-card bg-white rounded-lg overflow-hidden cursor-pointer block",children:[(0,a.jsxs)("div",{className:"relative aspect-square bg-gray-100",children:[(0,a.jsx)(n.default,{src:m,alt:l.name,fill:!0,className:"object-cover",sizes:"(max-width: 480px) 100vw, (max-width: 768px) 50vw, (max-width: 1024px) 33vw, 20vw"}),(0,a.jsx)("div",{className:"absolute top-2 sm:top-3 left-2 sm:left-3 px-2 sm:px-3 py-0.5 sm:py-1 text-[10px] sm:text-xs font-medium rounded ".concat(l.in_stock?"badge-available":"badge-unavailable"),children:l.in_stock?"In Stock":"Out of Stock"})]}),(0,a.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,a.jsx)("h3",{className:"text-xs sm:text-sm font-medium text-gray-900 mb-1.5 sm:mb-2 line-clamp-2 min-h-[2.5rem] sm:min-h-[2.75rem]",children:l.name}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-1 sm:gap-2 mb-1.5 sm:mb-2",children:[(0,a.jsx)("span",{className:"text-sm sm:text-lg font-bold text-gray-900",children:o(l.selling_price)}),l.supposed_price&&l.supposed_price>l.selling_price&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-xs sm:text-sm text-gray-400 line-through",children:o(l.supposed_price)}),x&&(0,a.jsxs)("span",{className:"text-[10px] sm:text-xs font-medium text-[#6B9B37] bg-[#F5F5DC] px-1.5 sm:px-2 py-0.5 rounded",children:["-",x,"%"]})]})]}),(0,a.jsxs)("div",{className:"text-[10px] sm:text-xs text-gray-500 leading-relaxed",children:[(null===(r=l.ProductCategory)||void 0===r?void 0:r.name)&&(0,a.jsx)("span",{className:"inline-block bg-gray-100 px-2 py-0.5 rounded mr-1 mb-1",children:l.ProductCategory.name}),l.brand_name&&(0,a.jsx)("span",{className:"inline-block bg-[#F5F5DC] px-2 py-0.5 rounded mb-1",children:l.brand_name})]}),l.quantity_display&&(0,a.jsx)("div",{className:"text-[10px] sm:text-xs text-gray-400 mt-1",children:l.quantity_display})]})]})}function w(e){let{categories:t,selectedId:s,onSelect:r}=e;return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsxs)("select",{value:null!=s?s:"",onChange:e=>{let t=e.target.value;r(""===t?null:parseInt(t,10))},className:"appearance-none w-full sm:w-48 px-4 py-2.5 sm:py-3 pr-10 bg-white border border-gray-200 rounded-lg text-sm sm:text-base text-gray-700 focus:outline-none focus:ring-2 focus:ring-[#6B9B37] focus:border-transparent cursor-pointer",children:[(0,a.jsx)("option",{value:"",children:"All Categories"}),t.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,a.jsx)(p.Z,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-500 pointer-events-none"})]})}function B(){var e,t,s;let x=(0,l.useParams)().storeSlug,[u,h]=(0,r.useState)(null),[p,y]=(0,r.useState)([]),[B,_]=(0,r.useState)([]),[k,S]=(0,r.useState)(null),[A,C]=(0,r.useState)(!0),[F,E]=(0,r.useState)(!1),[Z,T]=(0,r.useState)(null),[P,q]=(0,r.useState)(""),[I,D]=(0,r.useState)(null),{setStoreSlug:O}=(0,o.j)();return((0,r.useEffect)(()=>{O(x)},[x,O]),(0,r.useEffect)(()=>{(async function(){C(!0),T(null);try{let[e,t]=await Promise.all([i.Ae.getStore(x),i.Ae.getCategories(x).catch(()=>[])]);h(e),_(t)}catch(e){T(e instanceof Error?e.message:"Store not found"),console.error("Error fetching store:",e)}finally{C(!1)}})()},[x]),(0,r.useEffect)(()=>{(async function(){if(u||Z){E(!0);try{let e=await i.Ae.getProducts(x,{search:P||void 0,categoryId:I||void 0});y(e.products),S(e.pagination),e.categories&&_(e.categories)}catch(e){console.error("Error fetching products:",e)}finally{E(!1)}}})()},[x,u,Z,P,I]),A)?(0,a.jsx)("div",{className:"min-h-screen bg-[#FAFAF0] flex items-center justify-center",children:(0,a.jsx)(g.Z,{className:"w-10 h-10 animate-spin text-[#6B9B37]"})}):Z?(0,a.jsx)("div",{className:"min-h-screen bg-[#FAFAF0] flex flex-col items-center justify-center px-4",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Store Not Found"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:Z}),(0,a.jsx)(c.default,{href:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-[#6B9B37] text-white font-medium rounded-lg hover:bg-[#4A7A1A] transition-colors",children:"Go to Homepage"})]})}):(0,a.jsxs)("div",{className:"min-h-screen bg-[#FAFAF0] flex flex-col",children:[(0,a.jsx)(v,{store:u,storeSlug:x}),(0,a.jsxs)("main",{className:"flex-grow max-w-7xl mx-auto w-full px-3 sm:px-4 md:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[(null==u?void 0:u.store_front_image)&&(0,a.jsxs)("div",{className:"relative h-40 sm:h-56 md:h-72 rounded-lg overflow-hidden mb-6",children:[(0,a.jsx)(n.default,{src:u.store_front_image,alt:(null===(e=u.Business)||void 0===e?void 0:e.business_name)||"Store",fill:!0,className:"object-cover"}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),(0,a.jsxs)("div",{className:"absolute bottom-4 left-4 text-white",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold",children:null===(t=u.Business)||void 0===t?void 0:t.business_name}),u.address&&(0,a.jsxs)("p",{className:"text-sm text-white/80 flex items-center gap-1 mt-1",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4"}),u.address]})]})]}),!(null==u?void 0:u.store_front_image)&&(0,a.jsxs)("div",{className:"text-center mb-4 sm:mb-6 md:mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold italic text-[#6B9B37] tracking-wide",children:(null==u?void 0:null===(s=u.Business)||void 0===s?void 0:s.business_name)||"STOREFRONT"}),(null==u?void 0:u.business_description)&&(0,a.jsx)("p",{className:"text-gray-600 mt-2 max-w-2xl mx-auto",children:u.business_description}),(null==u?void 0:u.business_motto)&&(0,a.jsx)("p",{className:"text-[#6B9B37] mt-1 text-sm italic",children:u.business_motto})]}),(0,a.jsx)("div",{className:"mb-4 sm:mb-6 md:mb-8",children:(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 items-stretch sm:items-center",children:[(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)(d.E,{placeholder:"Search products...",value:P,onSearch:e=>{q(e)}})}),B.length>0&&(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(w,{categories:B,selectedId:I,onSelect:D})})]})}),F?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(g.Z,{className:"w-8 h-8 animate-spin text-[#6B9B37]"})}):0===p.length?(0,a.jsx)("div",{className:"text-center py-12 sm:py-16 md:py-20",children:(0,a.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,a.jsx)("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:P?(0,a.jsx)(j,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400"}):(0,a.jsx)(b,{className:"w-10 h-10 sm:w-12 sm:h-12 text-gray-400"})}),(0,a.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold text-gray-900 mb-2",children:P?"No products found":I?"No products in this category":"No products available"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:P?(0,a.jsxs)(a.Fragment,{children:["We couldn't find any products matching \"",(0,a.jsx)("span",{className:"font-medium text-gray-900",children:P}),'". Try a different search term or browse all products.']}):I?(0,a.jsx)(a.Fragment,{children:"There are no products in the selected category yet. Try selecting a different category or browse all products."}):(0,a.jsx)(a.Fragment,{children:"This store doesn't have any products listed yet. Check back later for new arrivals."})}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[(P||I)&&(0,a.jsx)("button",{onClick:()=>{q(""),D(null)},className:"inline-flex items-center justify-center px-6 py-3 bg-[#6B9B37] text-white font-medium rounded-lg hover:bg-[#4A7A1A] transition-colors",children:"View All Products"}),(0,a.jsx)(c.default,{href:"/".concat(x,"/contact"),className:"inline-flex items-center justify-center px-6 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Contact Store"})]})]})}):(0,a.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 md:gap-5 lg:gap-6",children:p.map(e=>(0,a.jsx)(N,{product:e,storeSlug:x},e.id))}),k&&k.totalPages>1&&(0,a.jsx)("div",{className:"flex justify-center mt-8",children:(0,a.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:k.totalPages},(e,t)=>t+1).map(e=>(0,a.jsx)("button",{onClick:()=>{i.Ae.getProducts(x,{page:e,search:P||void 0,categoryId:I||void 0}).then(e=>{y(e.products),S(e.pagination)})},className:"w-10 h-10 rounded-lg ".concat(e===k.page?"bg-[#6B9B37] text-white":"bg-white text-gray-700 hover:bg-gray-100 border border-gray-200"),children:e},e))})})]}),(0,a.jsx)(m.h,{store:u,storeSlug:x,categories:B})]})}},509:function(e,t,s){"use strict";s.d(t,{E:function(){return c}});var a=s(6047);let r=(0,s(5977).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var l=s(8591),n=s(418);function c(e){let{placeholder:t="Search products...",onSearch:s,value:c,onChange:i,debounceMs:o=300}=e,[d,m]=(0,n.useState)(c||""),x=(0,n.useRef)(null);(0,n.useEffect)(()=>{void 0!==c&&c!==d&&m(c)},[c]),(0,n.useEffect)(()=>()=>{x.current&&clearTimeout(x.current)},[]);let u=e=>{m(e),null==i||i(e),x.current&&clearTimeout(x.current),x.current=setTimeout(()=>{null==s||s(e)},o)};return(0,a.jsx)("form",{onSubmit:e=>{e.preventDefault(),x.current&&clearTimeout(x.current),null==s||s(d)},className:"w-full",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 pl-4 sm:pl-5 flex items-center pointer-events-none",children:(0,a.jsx)(r,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gray-400"})}),(0,a.jsx)("input",{type:"text",value:d,onChange:e=>u(e.target.value),className:"search-input block w-full pl-12 sm:pl-14 pr-12 sm:pr-14 py-2.5 sm:py-3 text-sm sm:text-base border border-gray-200 rounded-lg bg-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#6B9B37] focus:border-transparent transition-all",placeholder:t}),d&&(0,a.jsx)("button",{type:"button",onClick:()=>{x.current&&clearTimeout(x.current),m(""),null==i||i(""),null==s||s("")},className:"absolute inset-y-0 right-0 pr-4 sm:pr-5 flex items-center text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)(l.Z,{className:"h-5 w-5 sm:h-6 sm:w-6"})})]})})}},2813:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(5977).Z)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])}},function(e){e.O(0,[510,755,380,482,744],function(){return e(e.s=3451)}),_N_E=e.O()}]);