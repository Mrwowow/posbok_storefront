(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[252],{3515:function(e,t,s){Promise.resolve().then(s.bind(s,194))},194:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return N}});var a=s(6047),r=s(418),l=s(7261),n=s(5116),c=s(4363),i=s(2919),o=s(6727),d=s(4678),m=s(5779),u=s(8591),x=s(7912),h=s(7027),f=s(5835),p=s(9910),y=s(7929),g=s(1509),b=s(2443),j=s(4518);function v(e){var t;let{store:s,storeSlug:l}=e,[i,d]=(0,r.useState)(!1),{itemCount:h}=(0,o.j)(),f=(null==s?void 0:null===(t=s.Business)||void 0===t?void 0:t.business_name)||"Store";return(0,a.jsx)("header",{className:"bg-white border-b border-gray-100 sticky top-0 z-50",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between h-16 sm:h-20",children:[(0,a.jsx)(c.default,{href:"/".concat(l),className:"flex items-center",children:(0,a.jsx)(n.default,{src:(null==s?void 0:s.business_logo)||"/logo-2.png",alt:f,width:150,height:50,className:"h-10 sm:h-12 w-auto",priority:!0})}),(0,a.jsxs)("nav",{className:"hidden md:flex items-center space-x-6 lg:space-x-8",children:[(0,a.jsx)(c.default,{href:"/".concat(l),className:"text-gray-800 hover:text-[#6B9B37] font-medium transition-colors",children:"Products"}),(0,a.jsx)(c.default,{href:"/".concat(l,"/about"),className:"text-gray-800 hover:text-[#6B9B37] font-medium transition-colors",children:"About"}),(0,a.jsx)(c.default,{href:"/".concat(l,"/contact"),className:"text-gray-800 hover:text-[#6B9B37] font-medium transition-colors",children:"Contact"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4",children:[(0,a.jsxs)(c.default,{href:"/".concat(l,"/cart"),className:"relative p-2 text-[#6B9B37] hover:text-[#4A7A1A] transition-colors",children:[(0,a.jsx)(m.Z,{className:"w-6 h-6 sm:w-7 sm:h-7",strokeWidth:1.5}),h>0&&(0,a.jsx)("span",{className:"absolute -top-1 -right-1 bg-[#6B9B37] text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center",children:h>99?"99+":h})]}),(0,a.jsx)("button",{className:"md:hidden p-2 text-gray-800 hover:text-[#6B9B37] transition-colors",onClick:()=>d(!i),children:i?(0,a.jsx)(u.Z,{className:"w-6 h-6"}):(0,a.jsx)(x.Z,{className:"w-6 h-6"})})]})]}),i&&(0,a.jsx)("nav",{className:"md:hidden py-4 border-t border-gray-100",children:(0,a.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,a.jsx)(c.default,{href:"/".concat(l),className:"text-gray-800 hover:text-[#6B9B37] font-medium py-2",onClick:()=>d(!1),children:"Products"}),(0,a.jsx)(c.default,{href:"/".concat(l,"/about"),className:"text-gray-800 hover:text-[#6B9B37] font-medium py-2",onClick:()=>d(!1),children:"About"}),(0,a.jsx)(c.default,{href:"/".concat(l,"/contact"),className:"text-gray-800 hover:text-[#6B9B37] font-medium py-2",onClick:()=>d(!1),children:"Contact"})]})})]})})}function N(){let e=(0,l.useParams)().storeSlug,[t,s]=(0,r.useState)(null),[m,u]=(0,r.useState)(!0),{cart:x,isLoading:N,error:w,itemCount:B,setStoreSlug:k,updateCartItem:Z,removeCartItem:C,clearCart:S,updateContactInfo:A}=(0,o.j)(),[P,_]=(0,r.useState)((null==x?void 0:x.customer_email)||""),[M,F]=(0,r.useState)((null==x?void 0:x.customer_phone)||""),[E,q]=(0,r.useState)(!1);(0,r.useEffect)(()=>{k(e)},[e,k]),(0,r.useEffect)(()=>{(async function(){u(!0);try{let t=await i.Ae.getStore(e);s(t)}catch(e){console.error("Error fetching store:",e)}finally{u(!1)}})()},[e]),(0,r.useEffect)(()=>{x&&(_(x.customer_email||""),F(x.customer_phone||""))},[x]);let O=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e),z=async(e,t,s)=>{let a=Math.max(1,Math.min(10,t+s));a!==t&&await Z(e,a)},I=async e=>{await C(e)},L=async()=>{confirm("Are you sure you want to clear your cart?")&&await S()},V=async()=>{q(!0);try{await A(P,M)}catch(e){}finally{q(!1)}},G=(null==x?void 0:x.items)||[],T=parseFloat((null==x?void 0:x.subtotal)||"0"),D=parseFloat((null==x?void 0:x.total)||"0");return m?(0,a.jsx)("div",{className:"min-h-screen bg-[#FAFAF0] flex items-center justify-center",children:(0,a.jsx)(h.Z,{className:"w-10 h-10 animate-spin text-[#6B9B37]"})}):(0,a.jsxs)("div",{className:"min-h-screen bg-[#FAFAF0] flex flex-col",children:[(0,a.jsx)(v,{store:t,storeSlug:e}),(0,a.jsx)("main",{className:"flex-grow",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[(0,a.jsx)("nav",{className:"mb-4 sm:mb-6",children:(0,a.jsxs)(c.default,{href:"/".concat(e),className:"inline-flex items-center text-sm text-gray-600 hover:text-[#6B9B37] transition-colors",children:[(0,a.jsx)(f.Z,{className:"w-4 h-4 mr-1"}),"Continue Shopping"]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Shopping Cart"}),G.length>0&&(0,a.jsx)("button",{onClick:L,disabled:N,className:"text-sm text-red-500 hover:text-red-600 transition-colors disabled:opacity-50",children:"Clear Cart"})]}),w&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:w}),N&&0===G.length?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(h.Z,{className:"w-8 h-8 animate-spin text-[#6B9B37]"})}):0===G.length?(0,a.jsxs)("div",{className:"text-center py-12 sm:py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(p.Z,{className:"w-10 h-10 text-gray-400"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Looks like you haven't added anything to your cart yet."}),(0,a.jsx)(c.default,{href:"/".concat(e),className:"inline-flex items-center justify-center px-6 py-3 bg-[#6B9B37] text-white font-medium rounded-lg hover:bg-[#4A7A1A] transition-colors",children:"Start Shopping"})]}):(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6 lg:gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-4",children:G.map(t=>{var s,r,l,i;let o=(null===(r=t.product.images)||void 0===r?void 0:null===(s=r.find(e=>e.is_primary))||void 0===s?void 0:s.image_url)||(null===(i=t.product.images)||void 0===i?void 0:null===(l=i[0])||void 0===l?void 0:l.image_url)||"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=400&fit=crop",d=t.quantity*t.price;return(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 flex flex-col sm:flex-row gap-4",children:[(0,a.jsx)("div",{className:"relative w-full sm:w-24 h-40 sm:h-24 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:(0,a.jsx)(n.default,{src:o,alt:t.product.name,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c.default,{href:"/".concat(e,"/product/").concat(t.product_id),className:"font-medium text-gray-900 hover:text-[#6B9B37] transition-colors line-clamp-2",children:t.product.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[O(t.price)," each"]})]}),(0,a.jsx)("button",{onClick:()=>I(t.id),disabled:N,className:"p-2 text-gray-400 hover:text-red-500 transition-colors disabled:opacity-50",children:(0,a.jsx)(y.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center border border-gray-200 rounded-lg",children:[(0,a.jsx)("button",{onClick:()=>z(t.id,t.quantity,-1),disabled:t.quantity<=1||N,className:"p-2 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(g.Z,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"w-10 text-center font-medium",children:t.quantity}),(0,a.jsx)("button",{onClick:()=>z(t.id,t.quantity,1),disabled:t.quantity>=10||N,className:"p-2 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(b.Z,{className:"w-4 h-4"})})]}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:O(d)})]})]})]},t.id)})}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 sticky top-24",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),(0,a.jsx)("div",{className:"space-y-3 mb-4",children:(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-600",children:["Subtotal (",B," items)"]}),(0,a.jsx)("span",{className:"font-medium",children:O(T)})]})}),(0,a.jsx)("div",{className:"border-t border-gray-200 pt-4 mb-6",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:"Total"}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-900",children:O(D)})]})}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-4 mb-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Contact Information"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("input",{type:"email",placeholder:"Email address",value:P,onChange:e=>_(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#6B9B37] focus:border-transparent"}),(0,a.jsx)("input",{type:"tel",placeholder:"Phone number",value:M,onChange:e=>F(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#6B9B37] focus:border-transparent"}),(0,a.jsx)("button",{onClick:V,disabled:E,className:"w-full px-3 py-2 text-sm text-[#6B9B37] border border-[#6B9B37] rounded-lg hover:bg-[#6B9B37] hover:text-white transition-colors disabled:opacity-50",children:E?"Saving...":"Save Contact Info"})]})]}),(0,a.jsx)("button",{disabled:N||0===G.length,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-[#6B9B37] text-white font-medium rounded-lg hover:bg-[#4A7A1A] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:N?(0,a.jsx)(h.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:["Proceed to Checkout",(0,a.jsx)(j.Z,{className:"w-4 h-4"})]})}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Secure checkout powered by POSbok"})]})})]})]})}),(0,a.jsx)(d.$,{})]})}},4518:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(5977).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},5835:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(5977).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},7027:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(5977).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1509:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(5977).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},2443:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(5977).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9910:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(5977).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},7929:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(5977).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7261:function(e,t,s){"use strict";var a=s(5028);s.o(a,"useParams")&&s.d(t,{useParams:function(){return a.useParams}}),s.o(a,"usePathname")&&s.d(t,{usePathname:function(){return a.usePathname}}),s.o(a,"useSearchParams")&&s.d(t,{useSearchParams:function(){return a.useSearchParams}})}},function(e){e.O(0,[510,696,380,482,744],function(){return e(e.s=3515)}),_N_E=e.O()}]);