(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{3322:function(e,s,t){Promise.resolve().then(t.bind(t,4440))},4440:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var a=t(6047),l=t(418),r=t(5116),n=t(4363),i=t(4383),c=t(4678),d=t(6727),o=t(5835),m=t(7027),x=t(9910),u=t(7929),h=t(1509),p=t(2443),y=t(4518);function f(){let{cart:e,isLoading:s,error:t,itemCount:f,updateCartItem:b,removeCartItem:g,clearCart:j,updateContactInfo:N}=(0,d.j)(),[v,w]=(0,l.useState)((null==e?void 0:e.customer_email)||""),[k,B]=(0,l.useState)((null==e?void 0:e.customer_phone)||""),[Z,C]=(0,l.useState)(!1),_=e=>new Intl.NumberFormat("en-NG",{style:"currency",currency:"NGN",minimumFractionDigits:0}).format(e),S=async(e,s,t)=>{let a=Math.max(1,Math.min(10,s+t));a!==s&&await b(e,a)},M=async e=>{await g(e)},A=async()=>{confirm("Are you sure you want to clear your cart?")&&await j()},F=async()=>{C(!0);try{await N(v,k)}catch(e){}finally{C(!1)}},q=(null==e?void 0:e.items)||[],P=(null==e?void 0:e.subtotal)||0,O=q.some(e=>e.delivery_available)?1500:0;return(0,a.jsxs)("div",{className:"min-h-screen bg-[#FAFAF0] flex flex-col",children:[(0,a.jsx)(i.h,{}),(0,a.jsx)("main",{className:"flex-grow",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-6 md:py-8",children:[(0,a.jsx)("nav",{className:"mb-4 sm:mb-6",children:(0,a.jsxs)(n.default,{href:"/",className:"inline-flex items-center text-sm text-gray-600 hover:text-[#6B9B37] transition-colors",children:[(0,a.jsx)(o.Z,{className:"w-4 h-4 mr-1"}),"Continue Shopping"]})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6 sm:mb-8",children:[(0,a.jsx)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"Shopping Cart"}),q.length>0&&(0,a.jsx)("button",{onClick:A,disabled:s,className:"text-sm text-red-500 hover:text-red-600 transition-colors disabled:opacity-50",children:"Clear Cart"})]}),t&&(0,a.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:t}),s&&0===q.length?(0,a.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,a.jsx)(m.Z,{className:"w-8 h-8 animate-spin text-[#6B9B37]"})}):0===q.length?(0,a.jsxs)("div",{className:"text-center py-12 sm:py-16",children:[(0,a.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)(x.Z,{className:"w-10 h-10 text-gray-400"})}),(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Your cart is empty"}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Looks like you haven't added anything to your cart yet."}),(0,a.jsx)(n.default,{href:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-[#6B9B37] text-white font-medium rounded-lg hover:bg-[#4A7A1A] transition-colors",children:"Start Shopping"})]}):(0,a.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6 lg:gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-2 space-y-4",children:q.map(e=>(0,a.jsxs)("div",{className:"bg-white rounded-lg p-4 sm:p-6 flex flex-col sm:flex-row gap-4",children:[(0,a.jsx)("div",{className:"relative w-full sm:w-24 h-40 sm:h-24 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:(0,a.jsx)(r.default,{src:e.product_image||"https://images.unsplash.com/photo-1523275335684-37898b6baf30?w=400&h=400&fit=crop",alt:e.product_name,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"flex-grow",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(n.default,{href:"/product/".concat(e.product_id),className:"font-medium text-gray-900 hover:text-[#6B9B37] transition-colors line-clamp-2",children:e.product_name}),e.seller_name&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Sold by: ",e.seller_name]})]}),(0,a.jsx)("button",{onClick:()=>M(e.id),disabled:s,className:"p-2 text-gray-400 hover:text-red-500 transition-colors disabled:opacity-50",children:(0,a.jsx)(u.Z,{className:"w-5 h-5"})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-4 mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center border border-gray-200 rounded-lg",children:[(0,a.jsx)("button",{onClick:()=>S(e.id,e.quantity,-1),disabled:e.quantity<=1||s,className:"p-2 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(h.Z,{className:"w-4 h-4"})}),(0,a.jsx)("span",{className:"w-10 text-center font-medium",children:e.quantity}),(0,a.jsx)("button",{onClick:()=>S(e.id,e.quantity,1),disabled:e.quantity>=10||s,className:"p-2 hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:(0,a.jsx)(p.Z,{className:"w-4 h-4"})})]}),(0,a.jsx)("p",{className:"text-lg font-bold text-gray-900",children:_(e.total_price)})]}),(0,a.jsx)("div",{className:"mt-3",children:e.delivery_available?(0,a.jsxs)("span",{className:"inline-flex items-center text-xs text-[#6B9B37]",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-[#6B9B37] rounded-full mr-1.5"}),"Delivery Available"]}):(0,a.jsxs)("span",{className:"inline-flex items-center text-xs text-gray-500",children:[(0,a.jsx)("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full mr-1.5"}),"Pickup Only"]})})]})]},e.id))}),(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsxs)("div",{className:"bg-white rounded-lg p-6 sticky top-24",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Order Summary"}),(0,a.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsxs)("span",{className:"text-gray-600",children:["Subtotal (",f," items)"]}),(0,a.jsx)("span",{className:"font-medium",children:_(P)})]}),(0,a.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-gray-600",children:"Delivery Fee"}),(0,a.jsx)("span",{className:"font-medium",children:O>0?_(O):"Free"})]})]}),(0,a.jsx)("div",{className:"border-t border-gray-200 pt-4 mb-6",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"font-semibold text-gray-900",children:"Total"}),(0,a.jsx)("span",{className:"text-xl font-bold text-gray-900",children:_(P+O)})]})}),(0,a.jsxs)("div",{className:"border-t border-gray-200 pt-4 mb-6",children:[(0,a.jsx)("h3",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Contact Information"}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("input",{type:"email",placeholder:"Email address",value:v,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#6B9B37] focus:border-transparent"}),(0,a.jsx)("input",{type:"tel",placeholder:"Phone number",value:k,onChange:e=>B(e.target.value),className:"w-full px-3 py-2 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[#6B9B37] focus:border-transparent"}),(0,a.jsx)("button",{onClick:F,disabled:Z,className:"w-full px-3 py-2 text-sm text-[#6B9B37] border border-[#6B9B37] rounded-lg hover:bg-[#6B9B37] hover:text-white transition-colors disabled:opacity-50",children:Z?"Saving...":"Save Contact Info"})]})]}),(0,a.jsx)("button",{disabled:s||0===q.length,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-[#6B9B37] text-white font-medium rounded-lg hover:bg-[#4A7A1A] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:s?(0,a.jsx)(m.Z,{className:"w-4 h-4 animate-spin"}):(0,a.jsxs)(a.Fragment,{children:["Proceed to Checkout",(0,a.jsx)(y.Z,{className:"w-4 h-4"})]})}),(0,a.jsx)("p",{className:"text-xs text-gray-500 text-center mt-4",children:"Secure checkout powered by POSbok"})]})})]})]})}),(0,a.jsx)(c.$,{})]})}},4518:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5977).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},5835:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5977).Z)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},7027:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5977).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},1509:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5977).Z)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]])},2443:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5977).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},9910:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5977).Z)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},7929:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(5977).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}},function(e){e.O(0,[510,176,380,482,744],function(){return e(e.s=3322)}),_N_E=e.O()}]);